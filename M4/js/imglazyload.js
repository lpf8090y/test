jQuery=window.jQuery||window.Zepto,function(n){n.fn.imglazyload=function(t){var e=n.extend({attr:"lazy-src",container:window,event:"scroll",fadeIn:!1,threshold:0,vertical:!0},t),i=e.event,r=e.vertical,o=n(e.container),l=e.threshold,a=n.makeArray(n(this)),d="imglazyload_offset",s=r?"top":"left",c=r?"scrollTop":"scrollLeft",f=r?o.height():o.width(),u=o[c](),h=f+u,w={init:function(n){return n>=u&&h+l>=n},scroll:function(n){var t=o[c]();return n>=t&&f+t+l>=n},resize:function(n){var t=o[c](),e=r?o.height():o.width();return n>=t&&e+t+l>=n}},v=function(t,i){var r,l,c,f,u,h=0,v=!1;for(i?"scroll"!==i&&"resize"!==i&&(v=!0):i="init";h<a.length;h++)r=!1,c=a[h],f=n(c),u=f.attr(e.attr),u&&c.src!==u&&(l=f.offset()[s],f.data(d,l),r=v||w[i](l),r&&(c.src=u,e.fadeIn&&f.hide().fadeIn(),f.removeData(d),a.splice(h--,1)));a.length||(t?t.unbind(i,y):o.unbind(e.event,y),n(window).unbind("resize",y),a=null)},y=function(t){v(n(this),t.type)};return o="scroll"===i?o:n(this),o.bind(i,y),n(window).bind("resize",y),v(),this}}(jQuery);